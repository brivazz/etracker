### –ü—Ä–æ–µ–∫—Ç —É–º–µ–µ—Ç:
- üì• –î–æ–±–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ç—ã,
- üîé –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–∞–º,
- üìä –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É,
- üì§ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ CSV.


### ‚úÖ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞
```
$ python main.py
```

### –ë–æ—Ç —É–º–µ–µ—Ç:
- –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã —Å –≤—ã–±–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏,
- –ø–æ–≤—Ç–æ—Ä—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã,
- –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤ –≤–∏–¥–µ –∫—Ä–∞—Å–∏–≤–æ–π –¥–∏–∞–≥—Ä–∞–º–º—ã.
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç PNG-—Ñ–∞–π–ª –ø—Ä—è–º–æ –≤ Telegram.


**Router**
- —É–º–µ–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä—ã —Å @router.message(...) –∏ @router.callback(...),
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Enum, str, regex, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é,
- –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ö–µ–Ω–¥–ª–µ—Ä—ã –≤ middleware (–Ω–∞–ø—Ä–∏–º–µ—Ä, inject_user()),
- –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ö–µ–Ω–¥–ª–µ—Ä–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª–ª–±—ç–∫–∞ —á–µ—Ä–µ–∑ parse_callback_data() –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö.

ü§ñ **BotService**
- —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—Å–µ callback –∏ message —Ö–µ–Ω–¥–ª–µ—Ä—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –≤ register_handlers(),
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã (AddOrchestrator, StatsOrchestrator, –∏ —Ç.–ø.) –∫–∞–∫ –µ–¥–∏–Ω–∏—Ü—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏,
- —É–º–µ–µ—Ç —Å–∞–º —Ä–∞–∑—Ä—É–ª–∏–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ callback‚Äô–∏ –ø–æ Enum + params,
- –¥–æ–±–∞–≤–ª–µ–Ω @router.message("/start"), –∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ö–µ–Ω–¥–ª–µ—Ä.


üì¶ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
- –ú–æ–¥—É–ª–∏ handlers, orchestrators, services ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω—ã,
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è autoimport() ‚Äî —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏ —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞,
- –•–µ–Ω–¥–ª–µ—Ä—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ–¥–∏–Ω BotService, —á—Ç–æ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ.


| –ö–Ω–æ–ø–∫–∞                     | –°–æ—Å—Ç–æ—è–Ω–∏–µ FSM            | –ü–æ—è—Å–Ω–µ–Ω–∏–µ                                |
| -------------------------- | ------------------------ | ---------------------------------------- |
| ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞—Ç—É           | `ADD_EXPENSE`            | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏                     |
| –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏         | `WAITING_FOR_AMOUNT`     | –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ ‚Äî –æ–∂–∏–¥–∞–µ–º —Å—É–º–º—É             |
| –°—É–º–º–∞                      | `EXPENSE_RECORDED`       | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ                            |
| ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é | `EDIT_LAST_EXPENSE`      | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É –ø–æ–ª—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é        | `REPEAT_LAST_EXPENSE`    | –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥                           |
| –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é          | `DELETE_LAST_EXPENSE`    | –ó–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ                       |
| üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞              | `SHOW_STATS` (–Ω–µ —è–≤–Ω–æ)   | –ù–µ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ                      |
| üìÑ –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞—Ç            | `SHOW_HISTORY` (–Ω–µ —è–≤–Ω–æ) | –ù–µ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ                      |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Orchestrators —É–ø—Ä–∞–≤–ª—è—é—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–µ–π use-case'–æ–≤.
- DTOs –∏ Mappers –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏.
- Unit of Work –∏–∑ application –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º –≤ infrastructure.
- Factories –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä—É—é—Ç —Å–µ—Ä–≤–∏—Å—ã –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- Domain Services —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
- Repositories –∏–∑ domain –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã, –∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –≤ infrastructure.

![–î–∏–∞–≥—Ä–∞–º–º–∞](https://www.plantuml.com/plantuml/png/RL7DRl8m4BpxAIo-mtVYnhKL5AY41ABbHnmg3fQpIIqSRxJUL49LtxqH2SQfurDsPZApsfbwLiHrQOM_65SfKgKaqAnSOK5-2zcy5wKl1M7jiZbQ9FaF86y9f0oe0oUJYVWHuhzyQfvSEGRAbGP_cqNLUAW2vEX1Z3hxZmDOA9hWne_FBRHRxWzozhOwHvQpgh96ApRev5fTWVuu9tm8s9B-1C-a6Cbt2Ol3zlwvKLK5WNXLkf4PkCz7PrXYBaz8btYT1PRA36yIg7Y9fMF33zjEimVwCZgWEwZGctj-VCwSb6UgDTS4Ww6990xVlwzdjZb2UPKRpC3wSuBVebFuYATuaJaw1veDkgxOVdjoF7vExXtQ7AP57sX5RJ-3LEXhc8tx6fR45OimT6HQJD-n5VLxIlvfHQ7nGK7Y8g8vIDA24YXHXehJpTDgf-2okhI_)

